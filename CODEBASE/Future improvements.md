1. Add a timer to the runtime
2. ensure compatility with macos/windwows
